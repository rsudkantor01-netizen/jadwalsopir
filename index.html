<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jadwal Sopir Ambulance - RSUD Kabupaten Kepulauan Talaud 2025</title>
    <meta name="description" content="Jadwal sopir ambulance RSUD Kabupaten Kepulauan Talaud Tahun 2025">
    <meta name="keywords" content="ambulance, sopir, jadwal, RSUD, Kepulauan Talaud">
    <meta name="author" content="RSUD Kabupaten Kepulauan Talaud">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Jadwal Sopir Ambulance - RSUD Kabupaten Kepulauan Talaud 2025">
    <meta property="og:description" content="Jadwal sopir ambulance RSUD Kabupaten Kepulauan Talaud Tahun 2025">
    <meta property="og:type" content="website">
    <meta property="og:url" content="">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        /* Custom scrollbar styling */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 3px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 3px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        
        /* Animation */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.6s ease-out;
        }
        
        /* Loading spinner */
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #dc2626;
            border-radius: 50%;
            width: 48px;
            height: 48px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-red-50 to-blue-50 min-h-screen">
    <!-- Loading Screen -->
    <div id="loadingScreen" class="fixed inset-0 bg-white bg-opacity-90 flex items-center justify-center z-50">
        <div class="text-center">
            <div class="spinner mx-auto mb-4"></div>
            <p class="text-gray-600">Memuat jadwal sopir ambulance...</p>
        </div>
    </div>

    <!-- Main Content -->
    <div id="mainContent" class="hidden">
        <div class="max-w-7xl mx-auto p-4">
            <!-- Header -->
            <header class="text-center mb-8 fade-in">
                <div class="flex items-center justify-center mb-4">
                    <div class="bg-red-600 text-white p-3 rounded-full mr-3">
                        <i data-lucide="alert-circle" class="w-8 h-8"></i>
                    </div>
                    <div>
                        <h1 class="text-3xl font-bold text-gray-800">
                            JADWAL SOPIR AMBULANCE
                        </h1>
                        <p class="text-xl text-gray-600">
                            RSUD KABUPATEN KEPULAUAN TALAUD
                        </p>
                        <p class="text-lg text-gray-500">TAHUN 2025</p>
                    </div>
                </div>
            </header>

            <!-- Today's Driver Card -->
            <section id="todayDriverCard" class="mb-6 hidden">
                <div class="bg-white rounded-lg shadow-lg border-2 border-red-200">
                    <div class="bg-red-50 p-4 border-b border-red-200">
                        <h2 class="flex items-center text-red-700 font-bold text-lg">
                            <i data-lucide="clock" class="w-5 h-5 mr-2"></i>
                            Petugas Hari Ini
                        </h2>
                    </div>
                    <div class="p-6">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-4">
                                <div id="todayDriverColor" class="w-4 h-4 rounded-full"></div>
                                <div>
                                    <h3 id="todayDriverName" class="text-xl font-bold text-gray-800"></h3>
                                    <p id="todayDriverStatus" class="text-gray-600"></p>
                                </div>
                            </div>
                            <button id="todayWhatsAppBtn" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center transition-colors">
                                <i data-lucide="message-circle" class="w-4 h-4 mr-2"></i>
                                WhatsApp
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Month/Year Selector -->
            <section class="flex justify-center mb-6 space-x-4">
                <select id="monthSelector" class="px-4 py-2 border border-gray-300 rounded-lg bg-white">
                    <option value="1">Januari</option>
                    <option value="2">Februari</option>
                    <option value="3">Maret</option>
                    <option value="4">April</option>
                    <option value="5">Mei</option>
                    <option value="6">Juni</option>
                    <option value="7">Juli</option>
                    <option value="8">Agustus</option>
                    <option value="9">September</option>
                    <option value="10">Oktober</option>
                    <option value="11">November</option>
                    <option value="12">Desember</option>
                </select>
                <select id="yearSelector" class="px-4 py-2 border border-gray-300 rounded-lg bg-white">
                    <option value="2025">2025</option>
                </select>
            </section>

            <!-- Driver Info Cards -->
            <section class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
                <div class="driver-card bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-4">
                    <div class="flex items-center space-x-3 mb-3">
                        <div class="w-4 h-4 rounded-full bg-blue-500"></div>
                        <h3 class="text-lg font-bold">JOHN E. JAWALI</h3>
                    </div>
                    <div class="space-y-2">
                        <div class="flex items-center text-sm">
                            <i data-lucide="calendar" class="w-4 h-4 mr-2 text-gray-500"></i>
                            <span class="font-medium">Hari Kerja:</span>
                            <span class="ml-2 text-gray-600">Senin, Kamis</span>
                        </div>
                        <div class="flex items-center text-sm">
                            <i data-lucide="clock" class="w-4 h-4 mr-2 text-gray-500"></i>
                            <span class="font-medium">Akhir Pekan:</span>
                            <span class="ml-2 text-gray-600">STANDBY</span>
                        </div>
                        <div class="flex items-center text-sm">
                            <i data-lucide="message-circle" class="w-4 h-4 mr-2 text-gray-500"></i>
                            <span class="font-medium">WhatsApp:</span>
                            <span class="ml-2 text-gray-600">085256837722</span>
                        </div>
                        <button class="w-full mt-3 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center justify-center transition-colors" onclick="openWhatsApp('085256837722')">
                            <i data-lucide="message-circle" class="w-4 h-4 mr-2"></i>
                            Hubungi via WhatsApp
                        </button>
                    </div>
                </div>

                <div class="driver-card bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-4">
                    <div class="flex items-center space-x-3 mb-3">
                        <div class="w-4 h-4 rounded-full bg-green-500"></div>
                        <h3 class="text-lg font-bold">DEKSI DEREK</h3>
                    </div>
                    <div class="space-y-2">
                        <div class="flex items-center text-sm">
                            <i data-lucide="calendar" class="w-4 h-4 mr-2 text-gray-500"></i>
                            <span class="font-medium">Hari Kerja:</span>
                            <span class="ml-2 text-gray-600">Selasa, Jumat</span>
                        </div>
                        <div class="flex items-center text-sm">
                            <i data-lucide="clock" class="w-4 h-4 mr-2 text-gray-500"></i>
                            <span class="font-medium">Akhir Pekan:</span>
                            <span class="ml-2 text-gray-600">STANDBY</span>
                        </div>
                        <div class="flex items-center text-sm">
                            <i data-lucide="message-circle" class="w-4 h-4 mr-2 text-gray-500"></i>
                            <span class="font-medium">WhatsApp:</span>
                            <span class="ml-2 text-gray-600">081243834417</span>
                        </div>
                        <button class="w-full mt-3 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center justify-center transition-colors" onclick="openWhatsApp('081243834417')">
                            <i data-lucide="message-circle" class="w-4 h-4 mr-2"></i>
                            Hubungi via WhatsApp
                        </button>
                    </div>
                </div>

                <div class="driver-card bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-4">
                    <div class="flex items-center space-x-3 mb-3">
                        <div class="w-4 h-4 rounded-full bg-purple-500"></div>
                        <h3 class="text-lg font-bold">ASMARAMAN LARUNSEDU</h3>
                    </div>
                    <div class="space-y-2">
                        <div class="flex items-center text-sm">
                            <i data-lucide="calendar" class="w-4 h-4 mr-2 text-gray-500"></i>
                            <span class="font-medium">Hari Kerja:</span>
                            <span class="ml-2 text-gray-600">Rabu, Sabtu</span>
                        </div>
                        <div class="flex items-center text-sm">
                            <i data-lucide="clock" class="w-4 h-4 mr-2 text-gray-500"></i>
                            <span class="font-medium">Akhir Pekan:</span>
                            <span class="ml-2 text-gray-600">STANDBY</span>
                        </div>
                        <div class="flex items-center text-sm">
                            <i data-lucide="message-circle" class="w-4 h-4 mr-2 text-gray-500"></i>
                            <span class="font-medium">WhatsApp:</span>
                            <span class="ml-2 text-gray-600">085240186055</span>
                        </div>
                        <button class="w-full mt-3 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center justify-center transition-colors" onclick="openWhatsApp('085240186055')">
                            <i data-lucide="message-circle" class="w-4 h-4 mr-2"></i>
                            Hubungi via WhatsApp
                        </button>
                    </div>
                </div>
            </section>

            <!-- Schedule Calendar -->
            <section class="bg-white rounded-lg shadow-lg">
                <div class="bg-gray-50 p-4 border-b border-gray-200">
                    <h2 class="flex items-center font-bold text-lg">
                        <i data-lucide="calendar" class="w-5 h-5 mr-2"></i>
                        Jadwal Lengkap <span id="currentMonth"></span> <span id="currentYear"></span>
                    </h2>
                </div>
                <div class="p-4">
                    <div id="scheduleGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 max-h-96 overflow-y-auto custom-scrollbar">
                        <!-- Schedule items will be inserted here -->
                    </div>
                </div>
            </section>

            <!-- Footer -->
            <footer class="text-center mt-8 text-gray-600 text-sm">
                <p>RSUD Kabupaten Kepulauan Talaud - Tahun 2025</p>
                <p class="mt-1">Hubungi petugas yang bertugas untuk keadaan darurat</p>
            </footer>
        </div>
    </div>

    <script>
        // Driver data
        const drivers = [
            {
                id: 1,
                name: 'JOHN E. JAWALI',
                phone: '085256837722',
                dutyDays: ['Senin', 'Kamis'],
                weekendDuty: 'STANDBY',
                color: 'bg-blue-500'
            },
            {
                id: 2,
                name: 'DEKSI DEREK',
                phone: '081243834417',
                dutyDays: ['Selasa', 'Jumat'],
                weekendDuty: 'STANDBY',
                color: 'bg-green-500'
            },
            {
                id: 3,
                name: 'ASMARAMAN LARUNSEDU',
                phone: '085240186055',
                dutyDays: ['Rabu', 'Sabtu'],
                weekendDuty: 'STANDBY',
                color: 'bg-purple-500'
            }
        ];

        const monthNames = [
            'Januari', 'Februari', 'Maret', 'April', 'Mei', 'Juni',
            'Juli', 'Agustus', 'September', 'Oktober', 'November', 'Desember'
        ];

        const dayNames = ['Minggu', 'Senin', 'Selasa', 'Rabu', 'Kamis', 'Jumat', 'Sabtu'];

        // Get driver for specific day
        function getDriverForDay(dayName, dayType) {
            if (dayType === 'weekend') {
                return drivers.find(driver => driver.weekendDuty === 'STANDBY') || null;
            }
            return drivers.find(driver => driver.dutyDays.includes(dayName)) || null;
        }

        // Generate schedule for given month and year
        function generateSchedule(month, year) {
            const firstDay = new Date(year, month - 1, 1);
            const lastDay = new Date(year, month, 0);
            const daysInMonth = lastDay.getDate();
            const schedule = [];

            for (let day = 1; day <= daysInMonth; day++) {
                const date = new Date(year, month - 1, day);
                const dayName = dayNames[date.getDay()];
                const dayType = (date.getDay() === 0 || date.getDay() === 6) ? 'weekend' : 'weekday';
                const driver = getDriverForDay(dayName, dayType);

                schedule.push({
                    date: `${day.toString().padStart(2, '0')}/${month.toString().padStart(2, '0')}/${year}`,
                    dayName,
                    dayType,
                    driver
                });
            }

            return schedule;
        }

        // Render schedule grid
        function renderSchedule(month, year) {
            const schedule = generateSchedule(month, year);
            const scheduleGrid = document.getElementById('scheduleGrid');
            
            scheduleGrid.innerHTML = '';
            
            schedule.forEach((item, index) => {
                const scheduleItem = document.createElement('div');
                scheduleItem.className = `p-3 rounded-lg border ${
                    item.dayType === 'weekend'
                        ? 'bg-red-50 border-red-200'
                        : 'bg-white border-gray-200'
                } hover:shadow-md transition-shadow`;
                
                scheduleItem.innerHTML = `
                    <div class="flex justify-between items-start mb-2">
                        <div>
                            <p class="font-semibold text-sm">${item.date}</p>
                            <p class="text-xs text-gray-600">${item.dayName}</p>
                        </div>
                        <span class="${
                            item.dayType === 'weekend' 
                                ? 'bg-red-100 text-red-800' 
                                : 'bg-gray-100 text-gray-800'
                        } text-xs px-2 py-1 rounded-full">
                            ${item.dayType === 'weekend' ? 'Weekend' : 'Kerja'}
                        </span>
                    </div>
                    ${item.driver ? `
                        <div class="space-y-2">
                            <div class="flex items-center space-x-2">
                                <div class="w-3 h-3 rounded-full ${item.driver.color}"></div>
                                <div class="flex-1">
                                    <p class="text-sm font-medium">${item.driver.name}</p>
                                    <p class="text-xs text-gray-500">${item.driver.phone}</p>
                                </div>
                            </div>
                            <button 
                                class="w-full bg-green-600 hover:bg-green-700 text-white px-2 py-1 rounded text-xs flex items-center justify-center transition-colors"
                                onclick="openWhatsApp('${item.driver.phone}')"
                            >
                                <i data-lucide="message-circle" class="w-3 h-3 mr-1"></i>
                                WA
                            </button>
                        </div>
                    ` : ''}
                `;
                
                scheduleGrid.appendChild(scheduleItem);
            });
            
            // Update month/year display
            document.getElementById('currentMonth').textContent = monthNames[month - 1];
            document.getElementById('currentYear').textContent = year;
            
            // Re-initialize lucide icons for new elements
            lucide.createIcons();
        }

        // Open WhatsApp
        function openWhatsApp(phone) {
            const cleanPhone = phone.replace(/\D/g, '');
            window.open(`https://wa.me/${cleanPhone}`, '_blank');
        }

        // Show today's driver
        function showTodayDriver() {
            const today = new Date();
            const dayName = dayNames[today.getDay()];
            const dayType = (today.getDay() === 0 || today.getDay() === 6) ? 'weekend' : 'weekday';
            const todayDriver = getDriverForDay(dayName, dayType);
            
            if (todayDriver) {
                const todayDriverCard = document.getElementById('todayDriverCard');
                const todayDriverName = document.getElementById('todayDriverName');
                const todayDriverStatus = document.getElementById('todayDriverStatus');
                const todayDriverColor = document.getElementById('todayDriverColor');
                const todayWhatsAppBtn = document.getElementById('todayWhatsAppBtn');
                
                todayDriverName.textContent = todayDriver.name;
                todayDriverStatus.textContent = dayType === 'weekend' ? 'STANDBY' : 'DINAS';
                todayDriverColor.className = `w-4 h-4 rounded-full ${todayDriver.color}`;
                todayWhatsAppBtn.onclick = () => openWhatsApp(todayDriver.phone);
                
                todayDriverCard.classList.remove('hidden');
            }
        }

        // Initialize app
        function initializeApp() {
            // Set current month and year
            const today = new Date();
            const currentMonth = today.getMonth() + 1;
            const currentYear = today.getFullYear();
            
            document.getElementById('monthSelector').value = currentMonth;
            document.getElementById('yearSelector').value = currentYear;
            
            // Show today's driver
            showTodayDriver();
            
            // Render schedule
            renderSchedule(currentMonth, currentYear);
            
            // Add event listeners
            document.getElementById('monthSelector').addEventListener('change', (e) => {
                const month = parseInt(e.target.value);
                const year = parseInt(document.getElementById('yearSelector').value);
                renderSchedule(month, year);
            });
            
            document.getElementById('yearSelector').addEventListener('change', (e) => {
                const month = parseInt(document.getElementById('monthSelector').value);
                const year = parseInt(e.target.value);
                renderSchedule(month, year);
            });
            
            // Initialize lucide icons
            lucide.createIcons();
            
            // Hide loading screen and show main content
            setTimeout(() => {
                document.getElementById('loadingScreen').classList.add('hidden');
                document.getElementById('mainContent').classList.remove('hidden');
            }, 1000);
        }

        // Run when DOM is loaded
        document.addEventListener('DOMContentLoaded', initializeApp);
    </script>
</body>
</html>
